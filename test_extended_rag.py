from rag_system import RAGSystem

def test_extended_rag_system():
    rag = RAGSystem()
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–∏—Å–∫ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
    test_queries = [
        "–î–ú–ò–ö",
        "–§–†–ö4", 
        "–§–†–ö",
        "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥",
        "–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏",
        "–±—Ä–µ–Ω–¥–∏–Ω–≥",
        "–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è",
        "—Ä–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏",
        "–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",
        "–º–µ–¥–∏–∞—Ä–µ—Å—É—Ä—Å—ã",
        "–ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –≥–∏–ø–æ—Ç–µ–∑—ã",
        "–∫–æ–Ω–≤–µ—Ä—Å–∏—è",
        "—Ä–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
        "–∫–æ–º–∞–Ω–¥—ã",
        "–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è",
        "–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏",
        "–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã",
        "–†–ö–û –∫–∞–º–ø–∞–Ω–∏–∏",
        "–†–ë–ò–î–û–° –∫–∞–º–ø–∞–Ω–∏–∏",
        "–ë–∏–∑–Ω–µ—Å-–∫–∞—Ä—Ç—ã –∫–∞–º–ø–∞–Ω–∏–∏",
        "–ë–∏–∑–Ω–µ—Å-–∫—Ä–µ–¥–∏—Ç—ã –∫–∞–º–ø–∞–Ω–∏–∏"
    ]
    
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π RAG —Å–∏—Å—Ç–µ–º—ã")
    print("=" * 60)
    
    for query in test_queries:
        print(f"\nüîç –ó–∞–ø—Ä–æ—Å: '{query}'")
        items = rag.search_knowledge(query)
        
        if items:
            print(f"‚úÖ –ù–∞–π–¥–µ–Ω–æ {len(items)} —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:")
            for item in items:
                print(f"   üìù {item.term}")
                print(f"   üìñ {item.definition[:100]}...")
                if item.examples:
                    print(f"   üí° –ü—Ä–∏–º–µ—Ä—ã: {', '.join(item.examples)}")
                if item.related_terms:
                    print(f"   üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã: {', '.join(item.related_terms)}")
                print()
        else:
            print("‚ùå –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
    print("\n" + "=" * 60)
    print("üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤")
    print("=" * 60)
    
    complex_queries = [
        "–æ—Ç—á–µ—Ç –ø–æ –§–†–ö4",
        "–∞–Ω–∞–ª–∏–∑ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞",
        "—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π",
        "–±—Ä–µ–Ω–¥–∏–Ω–≥ –∫–∞–º–ø–∞–Ω–∏–∏",
        "–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π",
        "—Ä–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –î–ú–∏–ö",
        "–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é",
        "–º–µ–¥–∏–∞—Ä–µ—Å—É—Ä—Å—ã –∫–æ–º–ø–∞–Ω–∏–∏",
        "–ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –≥–∏–ø–æ—Ç–µ–∑—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
        "–∫–æ–Ω–≤–µ—Ä—Å–∏—è –∏–∑ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤",
        "—Ä–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
        "–∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",
        "–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞",
        "–∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤",
        "–†–ö–û –∫–∞–º–ø–∞–Ω–∏–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"
    ]
    
    for query in complex_queries:
        print(f"\nüîç –°–ª–æ–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å: '{query}'")
        items = rag.search_knowledge(query)
        
        if items:
            print(f"‚úÖ –ù–∞–π–¥–µ–Ω–æ {len(items)} —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:")
            for item in items[:3]:  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3
                print(f"   üìù {item.term}")
                print(f"   üìñ {item.definition[:80]}...")
        else:
            print("‚ùå –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")

if __name__ == "__main__":
    test_extended_rag_system() 